{"ast":null,"code":"// import Ball from './Ball';\nconst pcSpeed = 8;\nconst userSpeed = 5;\n\nclass Player {\n  constructor(userType, canvas, ball) {\n    Player.instance = this;\n    this.ball = ball;\n    this.userType = userType;\n    this.keysDown = {};\n    this.canvas = canvas;\n    this.ctxt = this.canvas.getContext('2d');\n    this.speed = this.userType === 'P1' || this.userType === 'P2' ? userSpeed : pcSpeed;\n    this.playerSize = 120;\n    this.playerWidth = 20;\n    this.y = this.canvas.height / 2 - this.playerSize / 2;\n    this.setEventListeners();\n  }\n\n  setEventListeners() {\n    if (this.userType === 'P1') {\n      window.addEventListener(\"keydown\", event => {\n        if (event.code === \"ArrowRight\") {\n          this.keysDown[\"Right\"] = true;\n        }\n\n        if (event.code === \"ArrowLeft\") {\n          this.keysDown[\"Left\"] = true;\n        }\n      });\n      window.addEventListener(\"keyup\", event => {\n        if (event.code === \"ArrowRight\") {\n          delete this.keysDown[\"Right\"];\n        }\n\n        if (event.code === \"ArrowLeft\") {\n          delete this.keysDown[\"Left\"];\n        }\n      });\n      window.addEventListener('resize', () => {\n        this.canvas.width = document.body.clientWidth;\n        this.canvas.height = window.innerHeight - 20;\n        this.y = this.canvas.height / 2;\n      });\n    } else if (this.userType === 'P2') {\n      window.addEventListener(\"keydown\", event => {\n        if (event.code === 'KeyQ') {\n          this.keysDown[\"KeyQ\"] = true;\n        }\n\n        if (event.code === 'KeyA') {\n          this.keysDown[\"KeyA\"] = true;\n        }\n      });\n      window.addEventListener(\"keyup\", event => {\n        if (event.code === \"KeyQ\") {\n          delete this.keysDown[\"KeyQ\"];\n        }\n\n        if (event.code === \"KeyA\") {\n          delete this.keysDown[\"KeyA\"];\n        }\n      }); // window.addEventListener('resize', () =>{\n      //     this.canvas.width = document.body.clientWidth;\n      //     this.canvas.height = window.innerHeight - 20;\n      //     this.y = this.canvas.height / 2;\n      //     }\n      // );\n    }\n  }\n\n  drawPlayer() {\n    //set white color and draw player on correct side of the screen\n    this.ctxt.fillStyle = 'white';\n\n    if (this.userType === 'P1') {\n      this.ctxt.fillRect(this.canvas.width - this.playerWidth, this.y, this.playerWidth, this.playerSize);\n    } else if (this.userType === 'P2' || this.userType === 'PC') {\n      this.ctxt.fillRect(0, this.y, this.playerWidth, this.playerSize);\n    } //check field limits and block player from leaving the field + smoother key changes\n\n\n    let topBorder = 0;\n    let bottomBorder = this.canvas.height - this.playerSize;\n\n    if (this.userType === 'P1') {\n      if ('Right' in this.keysDown && this.y > topBorder) {\n        this.y -= this.speed;\n      }\n\n      if ('Left' in this.keysDown && this.y < bottomBorder) {\n        this.y += this.speed;\n      }\n    } else if (this.userType === 'P2') {\n      if ('KeyQ' in this.keysDown && this.y > topBorder) {\n        this.y -= this.speed;\n      }\n\n      if ('KeyA' in this.keysDown && this.y < bottomBorder) {\n        this.y += this.speed;\n      }\n    } else if (this.userType === 'PC') {\n      if (this.y > topBorder && this.y + this.playerSize / 2 > this.ball.y) {\n        this.y -= this.speed;\n      }\n\n      if (this.y < bottomBorder && this.y - this.playerSize / 2 < this.ball.y) {\n        this.y += this.speed;\n      }\n    }\n  }\n\n}\n\nexport default Player;","map":{"version":3,"sources":["C:/Users/Oded/Desktop/Game/pong/src/game/Player.js"],"names":["pcSpeed","userSpeed","Player","constructor","userType","canvas","ball","instance","keysDown","ctxt","getContext","speed","playerSize","playerWidth","y","height","setEventListeners","window","addEventListener","event","code","width","document","body","clientWidth","innerHeight","drawPlayer","fillStyle","fillRect","topBorder","bottomBorder"],"mappings":"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","sourcesContent":["// import Ball from './Ball';\r\n\r\nconst pcSpeed = 8;\r\nconst userSpeed = 5;\r\n\r\nclass Player {\r\n    constructor(userType, canvas, ball) {\r\n\r\n        Player.instance = this;\r\n        this.ball = ball;\r\n        this.userType = userType;\r\n        this.keysDown = {};\r\n        this.canvas = canvas;\r\n        this.ctxt = this.canvas.getContext('2d');\r\n        this.speed = (this.userType === 'P1' || this.userType === 'P2') ? userSpeed : pcSpeed;\r\n        this.playerSize = 120;\r\n        this.playerWidth = 20;\r\n        this.y = this.canvas.height / 2 - this.playerSize / 2;\r\n\r\n        this.setEventListeners();\r\n\r\n    }\r\n\r\n    setSpeed\r\n\r\n    setEventListeners(){\r\n        if (this.userType === 'P1'){\r\n            window.addEventListener(\"keydown\", event => {\r\n                if(event.code === \"ArrowRight\"){\r\n                    this.keysDown[\"Right\"] = true; \r\n                }\r\n                if(event.code === \"ArrowLeft\"){\r\n                    this.keysDown[\"Left\"] = true;\r\n                }\r\n            });\r\n            \r\n            window.addEventListener(\"keyup\", event => {\r\n                if(event.code === \"ArrowRight\"){\r\n                    delete this.keysDown[\"Right\"];\r\n                }\r\n                if(event.code === \"ArrowLeft\"){\r\n                    delete this.keysDown[\"Left\"];\r\n                }\r\n            });\r\n\r\n            window.addEventListener('resize', () =>{\r\n                this.canvas.width = document.body.clientWidth;\r\n                this.canvas.height = window.innerHeight - 20;\r\n                this.y = this.canvas.height / 2;\r\n                }\r\n            );\r\n        }else if (this.userType === 'P2') {\r\n            window.addEventListener(\"keydown\", event => {\r\n                if(event.code === 'KeyQ'){\r\n                    this.keysDown[\"KeyQ\"] = true; \r\n                }\r\n                if(event.code === 'KeyA'){\r\n                    this.keysDown[\"KeyA\"] = true;\r\n                }\r\n            });\r\n            \r\n            window.addEventListener(\"keyup\", event => {\r\n                if(event.code === \"KeyQ\"){\r\n                    delete this.keysDown[\"KeyQ\"];\r\n                }\r\n                if(event.code === \"KeyA\"){\r\n                    delete this.keysDown[\"KeyA\"];\r\n                }\r\n            });\r\n\r\n            // window.addEventListener('resize', () =>{\r\n            //     this.canvas.width = document.body.clientWidth;\r\n            //     this.canvas.height = window.innerHeight - 20;\r\n            //     this.y = this.canvas.height / 2;\r\n            //     }\r\n            // );\r\n        }\r\n    }\r\n\r\n    drawPlayer(){\r\n        //set white color and draw player on correct side of the screen\r\n        this.ctxt.fillStyle = 'white';\r\n        if (this.userType === 'P1'){\r\n            this.ctxt.fillRect(this.canvas.width - this.playerWidth, this.y, this.playerWidth , this.playerSize);\r\n        }else if (this.userType === 'P2' || this.userType === 'PC') {\r\n            this.ctxt.fillRect(0, this.y, this.playerWidth , this.playerSize);\r\n        }\r\n\r\n        //check field limits and block player from leaving the field + smoother key changes\r\n        let topBorder = 0;\r\n        let bottomBorder = this.canvas.height - this.playerSize;\r\n        \r\n        if (this.userType === 'P1') {\r\n            if ('Right' in this.keysDown && this.y > topBorder){\r\n                this.y -= this.speed;\r\n            }\r\n            if('Left' in this.keysDown && this.y < bottomBorder){ \r\n                this.y += this.speed;\r\n            }\r\n        }else if (this.userType === 'P2'){\r\n            if ('KeyQ' in this.keysDown && this.y > topBorder){\r\n                this.y -= this.speed;\r\n            }\r\n            if('KeyA' in this.keysDown && this.y < bottomBorder){ \r\n                this.y += this.speed;\r\n            }\r\n        } \r\n        else if (this.userType === 'PC'){\r\n            if ( (this.y  > topBorder) && (this.y + this.playerSize / 2) > this.ball.y){\r\n                this.y -= this.speed;\r\n            }\r\n            if(this.y < bottomBorder &&  (this.y - this.playerSize / 2) < this.ball.y ){ \r\n                this.y += this.speed;\r\n            }\r\n        }       \r\n    }\r\n}\r\nexport default Player;"]},"metadata":{},"sourceType":"module"}