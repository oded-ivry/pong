{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Oded\\\\Desktop\\\\Game\\\\pong\\\\src\\\\game\\\\Game.js\";\nimport Ball from './Ball';\nimport Player from './Player';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from 'styled-components';\nimport App from '../App';\nconst ISPC = false;\nconst ISUSER = true;\n\nclass Game extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {}; //singleton\n\n    if (Game.instance) {\n      return Game.instance;\n    }\n\n    Game.instance = this; //field\n\n    this.canvas = document.getElementById(\"canvas\");\n    this.ctxt = this.canvas.getContext('2d');\n    this.canvas.width = document.body.clientWidth * 0.6;\n    this.canvas.height = (window.innerHeight - 20) * 0.6;\n    this.halfLinePos = this.canvas.width / 2;\n    window.addEventListener('resize', () => {\n      this.canvas.width = document.body.clientWidth * 0.6;\n      this.canvas.height = (window.innerHeight - 20) * 0.6;\n    });\n  }\n\n  start() {\n    this.ball = new Ball();\n    this.pc = new Player(ISPC);\n    this.user = new Player(ISUSER);\n    window.requestAnimationFrame(this.drawGame.bind(this));\n  }\n\n  checkTouchRightPlayer() {\n    let userX = this.canvas.width - this.user.playerWidth;\n    let touchX = this.ball.x + this.ball.raduis > userX;\n    let inYTop = this.ball.y > this.user.y;\n    let inYBottom = this.ball.y < this.user.y + this.user.playerSize;\n\n    if (touchX && inYBottom && inYTop) {\n      return true;\n    }\n\n    return false;\n  }\n\n  checkTouchLeftlayer() {\n    let pcX = this.user.playerWidth;\n    let touchX = this.ball.x - this.ball.raduis < pcX;\n    let inYTop = this.ball.y > this.pc.y;\n    let inYBottom = this.ball.y < this.pc.y + this.pc.playerSize;\n\n    if (touchX && inYBottom && inYTop) {\n      return true;\n    }\n\n    return false;\n  }\n\n  checkEndGame() {\n    //check left & right boundries ( win /lose )\n    let rightBorder = this.canvas.width - this.ball.raduis;\n    let leftBorder = this.ball.raduis;\n\n    if (this.ball.x > rightBorder) {\n      return 'right';\n    }\n\n    if (this.ball.x < leftBorder) {\n      return 'left';\n    }\n  }\n\n  drawGame() {\n    //draw field\n    this.ctxt.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    this.ctxt.fillStyle = 'black';\n    this.ctxt.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    this.ctxt.fillStyle = 'white';\n    this.ctxt.fillRect(this.halfLinePos, 0, 7, this.canvas.height); //check if ball hit right player\n\n    if (this.checkTouchRightPlayer()) {\n      this.ball.speed += 0.3;\n      this.ball.xDirection = -this.ball.xDirection;\n    } //check if ball hit left player\n\n\n    if (this.checkTouchLeftlayer()) {\n      this.ball.speed += 0.3;\n      this.ball.xDirection = -this.ball.xDirection;\n    }\n\n    this.ball.drawBall();\n    this.pc.drawPlayer();\n    this.user.drawPlayer();\n\n    if (this.checkEndGame() === 'right') {\n      console.log('right lost');\n      window.cancelAnimationFrame(this.drawGame.bind(this));\n      ReactDOM.render( /*#__PURE__*/React.createElement(App, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }\n      }), document.getElementById('root'));\n    } else if (this.checkEndGame() === 'left') {\n      console.log('left lost');\n      window.cancelAnimationFrame(this.drawGame.bind(this));\n      window.location.reload();\n    }\n\n    window.requestAnimationFrame(this.drawGame.bind(this));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Canvas, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nexport default Game;\nconst Canvas = styled.canvas`\n    position:relative;\n    top:Ypx;\n    left:Xpx;\n`;","map":{"version":3,"sources":["C:/Users/Oded/Desktop/Game/pong/src/game/Game.js"],"names":["Ball","Player","React","Component","ReactDOM","styled","App","ISPC","ISUSER","Game","constructor","props","state","instance","canvas","document","getElementById","ctxt","getContext","width","body","clientWidth","height","window","innerHeight","halfLinePos","addEventListener","start","ball","pc","user","requestAnimationFrame","drawGame","bind","checkTouchRightPlayer","userX","playerWidth","touchX","x","raduis","inYTop","y","inYBottom","playerSize","checkTouchLeftlayer","pcX","checkEndGame","rightBorder","leftBorder","clearRect","fillStyle","fillRect","speed","xDirection","drawBall","drawPlayer","console","log","cancelAnimationFrame","render","location","reload","Canvas"],"mappings":"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","sourcesContent":["import Ball from './Ball';\r\nimport Player from './Player';\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport styled from 'styled-components';\r\nimport App from '../App';\r\n\r\nconst ISPC = false;\r\nconst ISUSER = true;\r\n\r\nclass Game extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        \r\n\r\n        }\r\n        //singleton\r\n        if(Game.instance) {\r\n            return Game.instance;\r\n        }\r\n        Game.instance = this;\r\n        \r\n        //field\r\n        this.canvas = document.getElementById(\"canvas\");\r\n        this.ctxt = this.canvas.getContext('2d');\r\n        this.canvas.width = document.body.clientWidth*0.6;\r\n        this.canvas.height = (window.innerHeight - 20)*0.6;\r\n        this.halfLinePos = this.canvas.width / 2;\r\n        \r\n        window.addEventListener('resize', () => {\r\n            this.canvas.width = document.body.clientWidth*0.6;\r\n            this.canvas.height = (window.innerHeight - 20)*0.6;\r\n            }\r\n        );\r\n    }\r\n    \r\n    start() {\r\n        this.ball = new Ball();\r\n        this.pc = new Player(ISPC);\r\n        this.user = new Player(ISUSER);\r\n        window.requestAnimationFrame(this.drawGame.bind(this));\r\n    }\r\n    \r\n    checkTouchRightPlayer(){\r\n        let userX = this.canvas.width - this.user.playerWidth;\r\n        let touchX = (this.ball.x + this.ball.raduis > userX);\r\n        let inYTop = (this.ball.y > this.user.y);\r\n        let inYBottom = (this.ball.y < this.user.y + this.user.playerSize);\r\n        \r\n        if (touchX && inYBottom && inYTop){\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    checkTouchLeftlayer(){\r\n        let pcX = this.user.playerWidth;\r\n        let touchX = (this.ball.x - this.ball.raduis < pcX);\r\n        let inYTop = (this.ball.y > this.pc.y);\r\n        let inYBottom = (this.ball.y < this.pc.y + this.pc.playerSize);\r\n\r\n        if (touchX && inYBottom && inYTop){\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    checkEndGame(){\r\n        //check left & right boundries ( win /lose )\r\n        let rightBorder = this.canvas.width - this.ball.raduis;\r\n        let leftBorder = this.ball.raduis;\r\n        if (this.ball.x > rightBorder){\r\n            return 'right';\r\n        }\r\n        if(this.ball.x < leftBorder){\r\n            return 'left';\r\n        }\r\n    }\r\n    \r\n    drawGame(){\r\n        //draw field\r\n        this.ctxt.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n        this.ctxt.fillStyle = 'black';\r\n        this.ctxt.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n        this.ctxt.fillStyle = 'white';\r\n        this.ctxt.fillRect(this.halfLinePos, 0, 7, this.canvas.height);\r\n        \r\n        //check if ball hit right player\r\n        if (this.checkTouchRightPlayer()){\r\n            this.ball.speed += 0.3;\r\n            this.ball.xDirection = -this.ball.xDirection;\r\n        }\r\n        \r\n        //check if ball hit left player\r\n        if (this.checkTouchLeftlayer()){\r\n            this.ball.speed += 0.3;\r\n            this.ball.xDirection = -this.ball.xDirection;\r\n        }\r\n        \r\n        this.ball.drawBall();\r\n        this.pc.drawPlayer();\r\n        this.user.drawPlayer();\r\n        \r\n        if (this.checkEndGame() === 'right'){\r\n            console.log('right lost');\r\n            window.cancelAnimationFrame(this.drawGame.bind(this));\r\n            ReactDOM.render(\r\n                <App />,\r\n              document.getElementById('root')\r\n            );\r\n        }else if (this.checkEndGame() === 'left'){\r\n            console.log('left lost');\r\n            window.cancelAnimationFrame(this.drawGame.bind(this));\r\n            window.location.reload();\r\n        }\r\n        window.requestAnimationFrame(this.drawGame.bind(this));\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <Canvas/>\r\n        )\r\n    };\r\n}\r\nexport default Game;\r\n\r\nconst Canvas = styled.canvas`\r\n    position:relative;\r\n    top:Ypx;\r\n    left:Xpx;\r\n`\r\n"]},"metadata":{},"sourceType":"module"}