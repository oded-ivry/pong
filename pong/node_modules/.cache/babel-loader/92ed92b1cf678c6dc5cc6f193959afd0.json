{"ast":null,"code":"// import Ball from './Ball';\nclass Player\n/*  extends PC  */\n{\n  constructor(isUser) {\n    Player.instance = this;\n    this.isUser = isUser;\n    this.keysDown = {};\n    this.pcSpeed = 20;\n    this.userSpeed = 10;\n    this.canvas = document.getElementById(\"canvas\");\n    this.ctxt = this.canvas.getContext('2d');\n    this.y = this.canvas.height / 2;\n    this.speed = this.isUser ? this.userSpeed : this.pcSpeed;\n    this.playerSize = 120;\n    this.playerWidth = 20;\n    this.setEventListeners();\n  }\n\n  setEventListeners() {\n    if (this.isUser) {\n      window.addEventListener(\"keydown\", event => {\n        if (event.code === \"ArrowRight\") {\n          this.keysDown[\"Right\"] = true;\n        }\n\n        if (event.code === \"ArrowLeft\") {\n          this.keysDown[\"Left\"] = true;\n        }\n      });\n      window.addEventListener(\"keyup\", event => {\n        if (event.code === \"ArrowRight\") {\n          delete this.keysDown[\"Right\"];\n        }\n\n        if (event.code === \"ArrowLeft\") {\n          delete this.keysDown[\"Left\"];\n        }\n      });\n      window.addEventListener('resize', () => {\n        this.canvas.width = document.body.clientWidth;\n        this.canvas.height = window.innerHeight - 20;\n        this.y = this.canvas.height / 2;\n      });\n    } else {\n      window.addEventListener(\"keydown\", event => {\n        if (event.code === 'KeyQ') {\n          this.keysDown[\"KeyQ\"] = true;\n        }\n\n        if (event.code === 'KeyA') {\n          this.keysDown[\"KeyA\"] = true;\n        }\n      });\n      window.addEventListener(\"keyup\", event => {\n        if (event.code === \"KeyQ\") {\n          delete this.keysDown[\"KeyQ\"];\n        }\n\n        if (event.code === \"KeyA\") {\n          delete this.keysDown[\"KeyA\"];\n        }\n      });\n      window.addEventListener('resize', () => {\n        this.canvas.width = document.body.clientWidth;\n        this.canvas.height = window.innerHeight - 20;\n        this.y = this.canvas.height / 2;\n      });\n    }\n  }\n\n  drawPlayer() {\n    //set white color and draw player on correct side of the screen\n    this.ctxt.fillStyle = 'white';\n\n    if (this.isUser) {\n      this.ctxt.fillRect(this.canvas.width - this.playerWidth, this.y, this.playerWidth, this.playerSize);\n    } else {\n      this.ctxt.fillRect(0, this.y, this.playerWidth, this.playerSize);\n    } //check field limits and block player from leaving the field + smoother key changes\n\n\n    let topBorder = 0;\n    let bottomBorder = this.canvas.height - this.playerSize;\n\n    if (this.isUser) {\n      if ('Right' in this.keysDown && this.y > topBorder) {\n        this.y -= this.speed;\n      }\n\n      if ('Left' in this.keysDown && this.y < bottomBorder) {\n        this.y += this.speed;\n      }\n    } else {\n      if ('KeyQ' in this.keysDown && this.y > topBorder) {\n        this.y -= this.speed;\n      }\n\n      if ('KeyA' in this.keysDown && this.y < bottomBorder) {\n        this.y += this.speed;\n      }\n    }\n  }\n\n}\n\nexport default Player;","map":{"version":3,"sources":["C:/Users/Oded/Desktop/Game/pong/src/game/Player.js"],"names":["Player","constructor","isUser","instance","keysDown","pcSpeed","userSpeed","canvas","document","getElementById","ctxt","getContext","y","height","speed","playerSize","playerWidth","setEventListeners","window","addEventListener","event","code","width","body","clientWidth","innerHeight","drawPlayer","fillStyle","fillRect","topBorder","bottomBorder"],"mappings":"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","sourcesContent":["// import Ball from './Ball';\r\n\r\nclass Player/*  extends PC  */{\r\n    constructor(isUser) {\r\n\r\n        Player.instance = this;\r\n        this.isUser = isUser;\r\n        this.keysDown = {};\r\n        this.pcSpeed = 20;\r\n        this.userSpeed = 10;\r\n\r\n        this.canvas = document.getElementById(\"canvas\");\r\n        this.ctxt = this.canvas.getContext('2d');\r\n        this.y = this.canvas.height / 2;\r\n        this.speed = this.isUser ? this.userSpeed:this.pcSpeed;\r\n        this.playerSize = 120;\r\n        this.playerWidth = 20;\r\n\r\n        this.setEventListeners();\r\n    }\r\n\r\n    setEventListeners(){\r\n        if (this.isUser){\r\n            window.addEventListener(\"keydown\", event => {\r\n                if(event.code === \"ArrowRight\"){\r\n                    this.keysDown[\"Right\"] = true; \r\n                }\r\n                if(event.code === \"ArrowLeft\"){\r\n                    this.keysDown[\"Left\"] = true;\r\n                }\r\n            });\r\n            \r\n            window.addEventListener(\"keyup\", event => {\r\n                if(event.code === \"ArrowRight\"){\r\n                    delete this.keysDown[\"Right\"];\r\n                }\r\n                if(event.code === \"ArrowLeft\"){\r\n                    delete this.keysDown[\"Left\"];\r\n                }\r\n            });\r\n\r\n            window.addEventListener('resize', () =>{\r\n                this.canvas.width = document.body.clientWidth;\r\n                this.canvas.height = window.innerHeight - 20;\r\n                this.y = this.canvas.height / 2;\r\n                }\r\n            );\r\n        }else{\r\n            window.addEventListener(\"keydown\", event => {\r\n                if(event.code === 'KeyQ'){\r\n                    this.keysDown[\"KeyQ\"] = true; \r\n                }\r\n                if(event.code === 'KeyA'){\r\n                    this.keysDown[\"KeyA\"] = true;\r\n                }\r\n            });\r\n            \r\n            window.addEventListener(\"keyup\", event => {\r\n                if(event.code === \"KeyQ\"){\r\n                    delete this.keysDown[\"KeyQ\"];\r\n                }\r\n                if(event.code === \"KeyA\"){\r\n                    delete this.keysDown[\"KeyA\"];\r\n                }\r\n            });\r\n\r\n            window.addEventListener('resize', () =>{\r\n                this.canvas.width = document.body.clientWidth;\r\n                this.canvas.height = window.innerHeight - 20;\r\n                this.y = this.canvas.height / 2;\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    drawPlayer(){\r\n        //set white color and draw player on correct side of the screen\r\n        this.ctxt.fillStyle = 'white';\r\n        if (this.isUser){\r\n            this.ctxt.fillRect(this.canvas.width - this.playerWidth, this.y, this.playerWidth , this.playerSize);\r\n        }else{\r\n            this.ctxt.fillRect(0, this.y, this.playerWidth , this.playerSize);\r\n        }\r\n\r\n        //check field limits and block player from leaving the field + smoother key changes\r\n        let topBorder = 0;\r\n        let bottomBorder = this.canvas.height - this.playerSize;\r\n        \r\n        if (this.isUser){\r\n            if ('Right' in this.keysDown && this.y > topBorder){\r\n            this.y -= this.speed;\r\n            }\r\n            if('Left' in this.keysDown && this.y < bottomBorder){ \r\n            this.y += this.speed;\r\n            }\r\n        }else{\r\n            if ('KeyQ' in this.keysDown && this.y > topBorder){\r\n                this.y -= this.speed;\r\n            }\r\n            if('KeyA' in this.keysDown && this.y < bottomBorder){ \r\n                this.y += this.speed;\r\n            }\r\n        }        \r\n    }\r\n}\r\nexport default Player;"]},"metadata":{},"sourceType":"module"}